{"ast":null,"code":"var _jsxFileName = \"/Users/bskong/Repository/test/db-agent/frontend/src/components/ChatComponent.js\",\n  _s = $RefreshSig$();\n// ChatComponent.js\n// ÏûêÏó∞Ïñ¥‚ÜíSQL, AI ÌÜµÌï© Ï±ÑÌåÖ Ïª¥Ìè¨ÎÑåÌä∏\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatComponent({\n  selectedDb,\n  databases,\n  onDbChange,\n  onResetChat,\n  openaiKeys,\n  selectedOpenAIKey\n}) {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [textareaRows, setTextareaRows] = useState(1);\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n\n  // Ï∂îÏ≤ú ÏßàÎ¨∏Îì§ (Ïπ¥ÎìúÌòï)\n  const suggestedQuestions = [{\n    title: 'ÏÑ±Îä• Î∂ÑÏÑù',\n    questions: ['Ïò§Îäò Í∞ÄÏû• Ïò§Îûò Í±∏Î¶∞ ÏøºÎ¶¨ Î≥¥Ïó¨Ï§ò', 'Ïä¨Î°úÏö∞ ÏøºÎ¶¨ 10Í∞úÎßå Î≥¥Ïó¨Ï§ò', 'ÌÖåÏù¥Î∏îÎ≥Ñ row ÏàòÏôÄ ÌÅ¨Í∏∞ ÏïåÎ†§Ï§ò']\n  }, {\n    title: 'Îç∞Ïù¥ÌÑ∞ ÌÉêÏÉâ',\n    questions: ['Í∞ÄÏû• rowÍ∞Ä ÎßéÏùÄ ÌÖåÏù¥Î∏î ÏïåÎ†§Ï§ò', 'ÏµúÍ∑º 7ÏùºÍ∞Ñ ÏÉùÏÑ±Îêú Îç∞Ïù¥ÌÑ∞ Î≥¥Ïó¨Ï§ò', 'ÏÇ¨Ïö©Ïûê ÌÖåÏù¥Î∏îÏùò Íµ¨Ï°∞Î•º ÏÑ§Î™ÖÌï¥Ï§ò']\n  }, {\n    title: 'ÏãúÏä§ÌÖú ÏÉÅÌÉú',\n    questions: ['ÌòÑÏû¨ ÌôúÏÑ± Ïó∞Í≤∞ ÏàòÎäî?', 'Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÌÅ¨Í∏∞ÏôÄ ÏÇ¨Ïö©Îüâ ÏïåÎ†§Ï§ò', 'Ïù∏Îç±Ïä§ ÏÇ¨Ïö© ÌòÑÌô©ÏùÑ Î∂ÑÏÑùÌï¥Ï§ò']\n  }];\n\n  // ÏûêÎèô Ïä§ÌÅ¨Î°§\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // DB ÏÑ†ÌÉù Î≥ÄÍ≤Ω Ïãú Ï±ÑÌåÖ Í∏∞Î°ù Î∂àÎü¨Ïò§Í∏∞\n  useEffect(() => {\n    const fetchChatHistory = async () => {\n      if (selectedDb) {\n        try {\n          const response = await fetch(`/api/nl2sql/history?db_name=${selectedDb}`);\n          if (response.ok) {\n            const data = await response.json();\n            setMessages(data.history || []);\n          } else {\n            console.error('Ï±ÑÌåÖ Í∏∞Î°ùÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.');\n            setMessages([]);\n          }\n        } catch (error) {\n          console.error('Ï±ÑÌåÖ Í∏∞Î°ù Î∂àÎü¨Ïò§Í∏∞ Ïò§Î•ò:', error);\n          setMessages([]);\n        }\n      } else {\n        setMessages([]); // DBÍ∞Ä ÏÑ†ÌÉùÎêòÏßÄ ÏïäÏúºÎ©¥ Î©îÏãúÏßÄ Ï¥àÍ∏∞Ìôî\n      }\n    };\n    fetchChatHistory();\n  }, [selectedDb]);\n\n  // ÌÖçÏä§Ìä∏ ÏòÅÏó≠ ÏûêÎèô ÌÅ¨Í∏∞ Ï°∞Ï†ï\n  const autoResizeTextarea = el => {\n    el.style.height = 'auto';\n    const newHeight = Math.min(el.scrollHeight, 120); // ÏµúÎåÄ 5Ï§Ñ\n    el.style.height = newHeight + 'px';\n    setTextareaRows(Math.ceil(newHeight / 24));\n  };\n\n  // Ï∂îÏ≤ú ÏßàÎ¨∏ ÌÅ¥Î¶≠\n  const handleSuggestedQuestion = question => {\n    var _textareaRef$current;\n    setInput(question);\n    (_textareaRef$current = textareaRef.current) === null || _textareaRef$current === void 0 ? void 0 : _textareaRef$current.focus();\n  };\n\n  // Î©îÏãúÏßÄ Ï†ÑÏÜ°\n  const handleSend = async () => {\n    if (!input.trim() || !selectedDb) return;\n    if (!selectedOpenAIKey) {\n      alert('Î®ºÏ†Ä OpenAI API ÌÇ§Î•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî. OpenAI ÏÑ§Ï†ïÏóêÏÑú ÌÇ§Î•º Îì±Î°ùÌïòÍ≥† ÏÑ†ÌÉùÌïòÏÑ∏Ïöî.');\n      return;\n    }\n    const userMessage = {\n      role: 'user',\n      content: input,\n      timestamp: new Date().toLocaleTimeString()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setLoading(true);\n    setInput('');\n    setTextareaRows(1);\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n    }\n    try {\n      const formData = new FormData();\n      formData.append('db_name', selectedDb);\n      formData.append('prompt', input);\n      const response = await fetch('/api/nl2sql', {\n        method: 'POST',\n        body: formData\n      });\n      if (response.ok) {\n        const data = await response.json();\n        if (data.error) {\n          const errorMessage = {\n            role: 'assistant',\n            content: data.error,\n            error: true,\n            timestamp: new Date().toLocaleTimeString()\n          };\n          setMessages(prev => [...prev, errorMessage]);\n        } else {\n          const assistantMessage = {\n            role: 'assistant',\n            content: data.message.content || '',\n            sql: data.message.sql || '',\n            result: data.message.result || null,\n            timestamp: new Date().toLocaleTimeString()\n          };\n          setMessages(prev => [...prev, assistantMessage]);\n        }\n      } else {\n        throw new Error('ÏöîÏ≤≠ Ïã§Ìå®');\n      }\n    } catch (error) {\n      const errorMessage = {\n        role: 'assistant',\n        content: 'Ï£ÑÏÜ°Ìï©ÎãàÎã§. ÏöîÏ≤≠ Ï≤òÎ¶¨ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.',\n        error: true,\n        timestamp: new Date().toLocaleTimeString()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ÌÇ§Î≥¥Îìú Ïù¥Î≤§Ìä∏ Ï≤òÎ¶¨\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  // ÌÖçÏä§Ìä∏ ÏòÅÏó≠ ÏûÖÎ†• Ï≤òÎ¶¨\n  const handleInputChange = e => {\n    setInput(e.target.value);\n    autoResizeTextarea(e.target);\n  };\n\n  // Ï±ÑÌåÖ Ï¥àÍ∏∞Ìôî\n  const handleResetChat = async () => {\n    if (!selectedDb) return;\n    try {\n      const formData = new FormData();\n      formData.append('db_name', selectedDb);\n      const response = await fetch('/api/nl2sql/reset', {\n        method: 'POST',\n        body: formData\n      });\n      if (response.ok) {\n        setMessages([]);\n      }\n    } catch (error) {\n      console.error('Ï±ÑÌåÖ Ï¥àÍ∏∞Ìôî Ïò§Î•ò:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"db-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"db-select\",\n            className: \"prompt-label\",\n            children: \"DB \\uC120\\uD0DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"db-select\",\n            value: selectedDb || '',\n            onChange: e => onDbChange(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"DB\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"__ALL_DBS__\",\n              children: \"\\uBAA8\\uB4E0 DB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), databases === null || databases === void 0 ? void 0 : databases.map(db => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: db.name,\n              children: db.name\n            }, db.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"openai-status\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"status-label\",\n            children: \"OpenAI:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `status-value ${selectedOpenAIKey ? 'connected' : 'disconnected'}`,\n            children: selectedOpenAIKey ? 'Ïó∞Í≤∞Îê®' : 'ÎØ∏Ïó∞Í≤∞'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleResetChat,\n          disabled: !selectedDb,\n          className: \"btn btn-outline\",\n          title: \"\\uB300\\uD654 \\uCD08\\uAE30\\uD654\",\n          children: \"\\uD83D\\uDD04 \\uCD08\\uAE30\\uD654\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-messages\",\n      id: \"chat-messages\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-box\",\n        children: [messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"suggest-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCA1 \\uCD94\\uCC9C \\uC9C8\\uBB38\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"suggest-cards\",\n            children: suggestedQuestions.map((category, categoryIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"suggest-category\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: category.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"suggest-cards-grid\",\n                children: category.questions.map((question, questionIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"suggest-card\",\n                  onClick: () => handleSuggestedQuestion(question),\n                  children: question\n                }, questionIndex, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 21\n              }, this)]\n            }, categoryIndex, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this), messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `message ${msg.role === 'user' ? 'message-user' : 'message-ai'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"message-role\",\n                children: msg.role === 'user' ? 'üë§ ÏÇ¨Ïö©Ïûê' : 'ü§ñ AI'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"message-time\",\n                children: msg.timestamp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-body\",\n              children: msg.role === 'user' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"user-message\",\n                children: msg.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ai-message\",\n                children: [msg.content && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ai-response\",\n                  dangerouslySetInnerHTML: {\n                    __html: msg.content\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 25\n                }, this), msg.sql && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"sql-result\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"sql-header\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"sql-label\",\n                      children: \"\\uD83D\\uDD0D \\uC0DD\\uC131\\uB41C SQL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"sql-code\",\n                    children: /*#__PURE__*/_jsxDEV(\"pre\", {\n                      children: /*#__PURE__*/_jsxDEV(\"code\", {\n                        children: msg.sql\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 288,\n                        columnNumber: 34\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 25\n                }, this), msg.result && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"query-result\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"result-header\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"result-label\",\n                      children: \"\\uD83D\\uDCCA \\uC2E4\\uD589 \\uACB0\\uACFC\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 295,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"result-content\",\n                    children: msg.result.headers && msg.result.data ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"result-table\",\n                      children: /*#__PURE__*/_jsxDEV(\"table\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                            children: msg.result.headers.map((header, i) => /*#__PURE__*/_jsxDEV(\"th\", {\n                              children: header\n                            }, i, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 304,\n                              columnNumber: 41\n                            }, this))\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 302,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 301,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                          children: msg.result.data.map((row, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                            children: row.map((cell, j) => /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: cell\n                            }, j, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 312,\n                              columnNumber: 43\n                            }, this))\n                          }, i, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 310,\n                            columnNumber: 39\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 308,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 300,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 31\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"result-text\",\n                      children: /*#__PURE__*/_jsxDEV(\"pre\", {\n                        children: /*#__PURE__*/_jsxDEV(\"code\", {\n                          children: JSON.stringify(msg.result, null, 2)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 321,\n                          columnNumber: 38\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 321,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 25\n                }, this), msg.error && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"error-message\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"error-icon\",\n                    children: \"\\u26A0\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"error-text\",\n                    children: msg.content\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message message-ai\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"message-role\",\n                children: \"\\uD83E\\uDD16 AI\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"message-time\",\n                children: new Date().toLocaleTimeString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-message\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"loading-dots\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"AI\\uAC00 \\uC751\\uB2F5\\uC744 \\uC0DD\\uC131\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-input-area\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: textareaRef,\n          value: input,\n          onChange: handleInputChange,\n          onKeyDown: handleKeyDown,\n          rows: textareaRows,\n          placeholder: \"\\uC790\\uC5F0\\uC5B4\\uB85C \\uC9C8\\uBB38\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694... (Shift+Enter\\uB85C \\uC904\\uBC14\\uAFC8)\",\n          disabled: !selectedDb || loading || !selectedOpenAIKey\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSend,\n          disabled: !input.trim() || !selectedDb || loading || !selectedOpenAIKey,\n          className: \"send-button\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"send-icon\",\n            children: \"\\uD83D\\uDCE4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), !selectedOpenAIKey && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-warning\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u26A0\\uFE0F OpenAI API \\uD0A4\\uB97C \\uBA3C\\uC800 \\uC124\\uC815\\uD574\\uC8FC\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatComponent, \"w9YpJjwUZvZVMGGRd5KyRr0j9Xw=\");\n_c = ChatComponent;\nexport default ChatComponent;\nvar _c;\n$RefreshReg$(_c, \"ChatComponent\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","ChatComponent","selectedDb","databases","onDbChange","onResetChat","openaiKeys","selectedOpenAIKey","_s","messages","setMessages","input","setInput","loading","setLoading","textareaRows","setTextareaRows","messagesEndRef","textareaRef","suggestedQuestions","title","questions","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","fetchChatHistory","response","fetch","ok","data","json","history","console","error","autoResizeTextarea","el","style","height","newHeight","Math","min","scrollHeight","ceil","handleSuggestedQuestion","question","_textareaRef$current","focus","handleSend","trim","alert","userMessage","role","content","timestamp","Date","toLocaleTimeString","prev","formData","FormData","append","method","body","errorMessage","assistantMessage","message","sql","result","Error","handleKeyDown","e","key","shiftKey","preventDefault","handleInputChange","target","value","handleResetChat","className","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","onChange","map","db","name","onClick","disabled","length","category","categoryIndex","questionIndex","msg","idx","dangerouslySetInnerHTML","__html","headers","header","i","row","cell","j","JSON","stringify","ref","onKeyDown","rows","placeholder","_c","$RefreshReg$"],"sources":["/Users/bskong/Repository/test/db-agent/frontend/src/components/ChatComponent.js"],"sourcesContent":["// ChatComponent.js\n// ÏûêÏó∞Ïñ¥‚ÜíSQL, AI ÌÜµÌï© Ï±ÑÌåÖ Ïª¥Ìè¨ÎÑåÌä∏\nimport React, { useState, useEffect, useRef } from 'react';\n\nfunction ChatComponent({ selectedDb, databases, onDbChange, onResetChat, openaiKeys, selectedOpenAIKey }) {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [textareaRows, setTextareaRows] = useState(1);\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n\n  // Ï∂îÏ≤ú ÏßàÎ¨∏Îì§ (Ïπ¥ÎìúÌòï)\n  const suggestedQuestions = [\n    {\n      title: 'ÏÑ±Îä• Î∂ÑÏÑù',\n      questions: [\n        'Ïò§Îäò Í∞ÄÏû• Ïò§Îûò Í±∏Î¶∞ ÏøºÎ¶¨ Î≥¥Ïó¨Ï§ò',\n        'Ïä¨Î°úÏö∞ ÏøºÎ¶¨ 10Í∞úÎßå Î≥¥Ïó¨Ï§ò',\n        'ÌÖåÏù¥Î∏îÎ≥Ñ row ÏàòÏôÄ ÌÅ¨Í∏∞ ÏïåÎ†§Ï§ò'\n      ]\n    },\n    {\n      title: 'Îç∞Ïù¥ÌÑ∞ ÌÉêÏÉâ',\n      questions: [\n        'Í∞ÄÏû• rowÍ∞Ä ÎßéÏùÄ ÌÖåÏù¥Î∏î ÏïåÎ†§Ï§ò',\n        'ÏµúÍ∑º 7ÏùºÍ∞Ñ ÏÉùÏÑ±Îêú Îç∞Ïù¥ÌÑ∞ Î≥¥Ïó¨Ï§ò',\n        'ÏÇ¨Ïö©Ïûê ÌÖåÏù¥Î∏îÏùò Íµ¨Ï°∞Î•º ÏÑ§Î™ÖÌï¥Ï§ò'\n      ]\n    },\n    {\n      title: 'ÏãúÏä§ÌÖú ÏÉÅÌÉú',\n      questions: [\n        'ÌòÑÏû¨ ÌôúÏÑ± Ïó∞Í≤∞ ÏàòÎäî?',\n        'Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÌÅ¨Í∏∞ÏôÄ ÏÇ¨Ïö©Îüâ ÏïåÎ†§Ï§ò',\n        'Ïù∏Îç±Ïä§ ÏÇ¨Ïö© ÌòÑÌô©ÏùÑ Î∂ÑÏÑùÌï¥Ï§ò'\n      ]\n    }\n  ];\n\n  // ÏûêÎèô Ïä§ÌÅ¨Î°§\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  \n\n  // DB ÏÑ†ÌÉù Î≥ÄÍ≤Ω Ïãú Ï±ÑÌåÖ Í∏∞Î°ù Î∂àÎü¨Ïò§Í∏∞\n  useEffect(() => {\n    const fetchChatHistory = async () => {\n      if (selectedDb) {\n        try {\n          const response = await fetch(`/api/nl2sql/history?db_name=${selectedDb}`);\n          if (response.ok) {\n            const data = await response.json();\n            setMessages(data.history || []);\n          } else {\n            console.error('Ï±ÑÌåÖ Í∏∞Î°ùÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.');\n            setMessages([]);\n          }\n        } catch (error) {\n          console.error('Ï±ÑÌåÖ Í∏∞Î°ù Î∂àÎü¨Ïò§Í∏∞ Ïò§Î•ò:', error);\n          setMessages([]);\n        }\n      } else {\n        setMessages([]); // DBÍ∞Ä ÏÑ†ÌÉùÎêòÏßÄ ÏïäÏúºÎ©¥ Î©îÏãúÏßÄ Ï¥àÍ∏∞Ìôî\n      }\n    };\n    fetchChatHistory();\n  }, [selectedDb]);\n\n  // ÌÖçÏä§Ìä∏ ÏòÅÏó≠ ÏûêÎèô ÌÅ¨Í∏∞ Ï°∞Ï†ï\n  const autoResizeTextarea = (el) => {\n    el.style.height = 'auto';\n    const newHeight = Math.min(el.scrollHeight, 120); // ÏµúÎåÄ 5Ï§Ñ\n    el.style.height = newHeight + 'px';\n    setTextareaRows(Math.ceil(newHeight / 24));\n  };\n\n  // Ï∂îÏ≤ú ÏßàÎ¨∏ ÌÅ¥Î¶≠\n  const handleSuggestedQuestion = (question) => {\n    setInput(question);\n    textareaRef.current?.focus();\n  };\n\n  // Î©îÏãúÏßÄ Ï†ÑÏÜ°\n  const handleSend = async () => {\n    if (!input.trim() || !selectedDb) return;\n    \n    if (!selectedOpenAIKey) {\n      alert('Î®ºÏ†Ä OpenAI API ÌÇ§Î•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî. OpenAI ÏÑ§Ï†ïÏóêÏÑú ÌÇ§Î•º Îì±Î°ùÌïòÍ≥† ÏÑ†ÌÉùÌïòÏÑ∏Ïöî.');\n      return;\n    }\n    \n    const userMessage = { \n      role: 'user', \n      content: input,\n      timestamp: new Date().toLocaleTimeString()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setLoading(true);\n    setInput('');\n    setTextareaRows(1);\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n    }\n\n    try {\n      const formData = new FormData();\n      formData.append('db_name', selectedDb);\n      formData.append('prompt', input);\n\n      const response = await fetch('/api/nl2sql', {\n        method: 'POST',\n        body: formData\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        if (data.error) {\n          const errorMessage = {\n            role: 'assistant',\n            content: data.error,\n            error: true,\n            timestamp: new Date().toLocaleTimeString()\n          };\n          setMessages(prev => [...prev, errorMessage]);\n        } else {\n          const assistantMessage = {\n            role: 'assistant',\n            content: data.message.content || '',\n            sql: data.message.sql || '',\n            result: data.message.result || null,\n            timestamp: new Date().toLocaleTimeString()\n          };\n          setMessages(prev => [...prev, assistantMessage]);\n        }\n      } else {\n        throw new Error('ÏöîÏ≤≠ Ïã§Ìå®');\n      }\n    } catch (error) {\n      const errorMessage = {\n        role: 'assistant',\n        content: 'Ï£ÑÏÜ°Ìï©ÎãàÎã§. ÏöîÏ≤≠ Ï≤òÎ¶¨ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.',\n        error: true,\n        timestamp: new Date().toLocaleTimeString()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ÌÇ§Î≥¥Îìú Ïù¥Î≤§Ìä∏ Ï≤òÎ¶¨\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSend();\n    }\n  };\n\n  // ÌÖçÏä§Ìä∏ ÏòÅÏó≠ ÏûÖÎ†• Ï≤òÎ¶¨\n  const handleInputChange = (e) => {\n    setInput(e.target.value);\n    autoResizeTextarea(e.target);\n  };\n\n  // Ï±ÑÌåÖ Ï¥àÍ∏∞Ìôî\n  const handleResetChat = async () => {\n    if (!selectedDb) return;\n    \n    try {\n      const formData = new FormData();\n      formData.append('db_name', selectedDb);\n\n      const response = await fetch('/api/nl2sql/reset', {\n        method: 'POST',\n        body: formData\n      });\n      \n      if (response.ok) {\n        setMessages([]);\n      }\n    } catch (error) {\n      console.error('Ï±ÑÌåÖ Ï¥àÍ∏∞Ìôî Ïò§Î•ò:', error);\n    }\n  };\n\n  return (\n    <div className=\"chat-container\">\n      {/* Ï±ÑÌåÖ Ìó§Îçî */}\n      <div className=\"chat-header\">\n        <div className=\"header-left\">\n          <div className=\"db-selector\">\n            <label htmlFor=\"db-select\" className=\"prompt-label\">DB ÏÑ†ÌÉù</label>\n            <select \n              id=\"db-select\" \n              value={selectedDb || ''} \n              onChange={(e) => onDbChange(e.target.value)}\n            >\n              <option value=\"\">DBÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>\n              <option value=\"__ALL_DBS__\">Î™®Îì† DB</option>\n              {databases?.map(db => (\n                <option key={db.name} value={db.name}>\n                  {db.name}\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          <div className=\"openai-status\">\n            <span className=\"status-label\">OpenAI:</span>\n            <span className={`status-value ${selectedOpenAIKey ? 'connected' : 'disconnected'}`}>\n              {selectedOpenAIKey ? 'Ïó∞Í≤∞Îê®' : 'ÎØ∏Ïó∞Í≤∞'}\n            </span>\n          </div>\n        </div>\n        \n        <div className=\"header-actions\">\n          <button \n            onClick={handleResetChat} \n            disabled={!selectedDb}\n            className=\"btn btn-outline\"\n            title=\"ÎåÄÌôî Ï¥àÍ∏∞Ìôî\"\n          >\n            üîÑ Ï¥àÍ∏∞Ìôî\n          </button>\n        </div>\n      </div>\n\n      {/* Ï±ÑÌåÖ Î©îÏãúÏßÄ ÏòÅÏó≠ */}\n      <div className=\"chat-messages\" id=\"chat-messages\">\n        <div className=\"chat-box\">\n          {/* Ï∂îÏ≤ú ÏßàÎ¨∏ Ïπ¥ÎìúÎì§ (Ï≤´ ÎåÄÌôî Ï†ÑÎßå ÌëúÏãú) */}\n          {messages.length === 0 && (\n            <div className=\"suggest-section\">\n              <h3>üí° Ï∂îÏ≤ú ÏßàÎ¨∏</h3>\n              <div className=\"suggest-cards\">\n                {suggestedQuestions.map((category, categoryIndex) => (\n                  <div key={categoryIndex} className=\"suggest-category\">\n                    <h4>{category.title}</h4>\n                    <div className=\"suggest-cards-grid\">\n                      {category.questions.map((question, questionIndex) => (\n                        <div \n                          key={questionIndex}\n                          className=\"suggest-card\" \n                          onClick={() => handleSuggestedQuestion(question)}\n                        >\n                          {question}\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Î©îÏãúÏßÄÎì§ */}\n          {messages.map((msg, idx) => (\n            <div key={idx} className={`message ${msg.role === 'user' ? 'message-user' : 'message-ai'}`}>\n              <div className=\"message-content\">\n                <div className=\"message-header\">\n                  <span className=\"message-role\">\n                    {msg.role === 'user' ? 'üë§ ÏÇ¨Ïö©Ïûê' : 'ü§ñ AI'}\n                  </span>\n                  <span className=\"message-time\">{msg.timestamp}</span>\n                </div>\n                \n                <div className=\"message-body\">\n                  {msg.role === 'user' ? (\n                    <div className=\"user-message\">{msg.content}</div>\n                  ) : (\n                    <div className=\"ai-message\">\n                      {msg.content && (\n                        <div className=\"ai-response\" dangerouslySetInnerHTML={{ __html: msg.content }} />\n                      )}\n                      {msg.sql && (\n                        <div className=\"sql-result\">\n                          <div className=\"sql-header\">\n                            <span className=\"sql-label\">üîç ÏÉùÏÑ±Îêú SQL</span>\n                          </div>\n                          <div className=\"sql-code\">\n                            <pre><code>{msg.sql}</code></pre>\n                          </div>\n                        </div>\n                      )}\n                      {msg.result && (\n                        <div className=\"query-result\">\n                          <div className=\"result-header\">\n                            <span className=\"result-label\">üìä Ïã§Ìñâ Í≤∞Í≥º</span>\n                          </div>\n                          <div className=\"result-content\">\n                            {msg.result.headers && msg.result.data ? (\n                              <div className=\"result-table\">\n                                <table>\n                                  <thead>\n                                    <tr>\n                                      {msg.result.headers.map((header, i) => (\n                                        <th key={i}>{header}</th>\n                                      ))}\n                                    </tr>\n                                  </thead>\n                                  <tbody>\n                                    {msg.result.data.map((row, i) => (\n                                      <tr key={i}>\n                                        {row.map((cell, j) => (\n                                          <td key={j}>{cell}</td>\n                                        ))}\n                                      </tr>\n                                    ))}\n                                  </tbody>\n                                </table>\n                              </div>\n                            ) : (\n                              <div className=\"result-text\">\n                                <pre><code>{JSON.stringify(msg.result, null, 2)}</code></pre>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      )}\n                      {msg.error && (\n                        <div className=\"error-message\">\n                          <span className=\"error-icon\">‚ö†Ô∏è</span>\n                          <span className=\"error-text\">{msg.content}</span>\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n          \n          {/* Î°úÎî© ÌëúÏãú */}\n          {loading && (\n            <div className=\"message message-ai\">\n              <div className=\"message-content\">\n                <div className=\"message-header\">\n                  <span className=\"message-role\">ü§ñ AI</span>\n                  <span className=\"message-time\">{new Date().toLocaleTimeString()}</span>\n                </div>\n                <div className=\"message-body\">\n                  <div className=\"loading-message\">\n                    <div className=\"loading-dots\">\n                      <span></span>\n                      <span></span>\n                      <span></span>\n                    </div>\n                    <span>AIÍ∞Ä ÏùëÎãµÏùÑ ÏÉùÏÑ±ÌïòÍ≥† ÏûàÏäµÎãàÎã§...</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* ÏûÖÎ†• ÏòÅÏó≠ */}\n      <div className=\"chat-input-area\">\n        <div className=\"input-container\">\n          <textarea\n            ref={textareaRef}\n            value={input}\n            onChange={handleInputChange}\n            onKeyDown={handleKeyDown}\n            rows={textareaRows}\n            placeholder=\"ÏûêÏó∞Ïñ¥Î°ú ÏßàÎ¨∏ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî... (Shift+EnterÎ°ú Ï§ÑÎ∞îÍøà)\"\n            disabled={!selectedDb || loading || !selectedOpenAIKey}\n          />\n          <button \n            onClick={handleSend} \n            disabled={!input.trim() || !selectedDb || loading || !selectedOpenAIKey}\n            className=\"send-button\"\n          >\n            <span className=\"send-icon\">üì§</span>\n          </button>\n        </div>\n        \n        {!selectedOpenAIKey && (\n          <div className=\"input-warning\">\n            <span>‚ö†Ô∏è OpenAI API ÌÇ§Î•º Î®ºÏ†Ä ÏÑ§Ï†ïÌï¥Ï£ºÏÑ∏Ïöî.</span>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default ChatComponent; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}