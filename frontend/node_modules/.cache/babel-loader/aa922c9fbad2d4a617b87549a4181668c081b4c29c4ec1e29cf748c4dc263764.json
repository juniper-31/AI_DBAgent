{"ast":null,"code":"import _objectSpread from\"/Users/bskong/Repository/test/db-agent/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// SlowQueryComponent.js\n// CloudWatch/RDS 슬로우 쿼리 분석, 시각화\nimport React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SlowQueryComponent(_ref){let{selectedDb,databases,onDbChange}=_ref;const[slowQueries,setSlowQueries]=useState([]);const[loading,setLoading]=useState(false);const[filters,setFilters]=useState({timeRange:'24h',minDuration:1,// 초 단위\nlimit:50,sortBy:'duration',// duration, count, avg_duration\nsortOrder:'desc'});const[selectedQuery,setSelectedQuery]=useState(null);const[queryDetails,setQueryDetails]=useState(null);const[showDetails,setShowDetails]=useState(false);const timeRanges=[{value:'1h',label:'1시간'},{value:'6h',label:'6시간'},{value:'24h',label:'24시간'},{value:'7d',label:'7일'},{value:'30d',label:'30일'}];const sortOptions=[{value:'duration',label:'실행 시간'},{value:'count',label:'실행 횟수'},{value:'avg_duration',label:'평균 실행 시간'},{value:'rows_examined',label:'검사된 행 수'},{value:'rows_sent',label:'반환된 행 수'}];// 슬로우 쿼리 데이터 가져오기\nconst fetchSlowQueries=async()=>{if(!selectedDb)return;setLoading(true);try{const params=new URLSearchParams(_objectSpread({db_name:selectedDb},filters));const response=await fetch(\"/slowquery/list?\".concat(params));if(response.ok){const data=await response.json();setSlowQueries(data.queries||[]);}else{console.error('슬로우 쿼리 데이터 가져오기 실패');}}catch(error){console.error('슬로우 쿼리 요청 오류:',error);}finally{setLoading(false);}};// 쿼리 상세 정보 가져오기\nconst fetchQueryDetails=async queryId=>{try{const response=await fetch(\"/slowquery/details?db_name=\".concat(selectedDb,\"&query_id=\").concat(queryId));if(response.ok){const data=await response.json();setQueryDetails(data);setShowDetails(true);}}catch(error){console.error('쿼리 상세 정보 요청 오류:',error);}};// 필터 변경 처리\nconst handleFilterChange=(key,value)=>{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:value}));};// 쿼리 선택 처리\nconst handleQuerySelect=query=>{setSelectedQuery(query);fetchQueryDetails(query.id);};// 쿼리 실행 계획 가져오기\nconst getExecutionPlan=async sql=>{try{const response=await fetch('/slowquery/explain',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({db_name:selectedDb,sql:sql})});if(response.ok){const data=await response.json();return data.plan;}}catch(error){console.error('실행 계획 요청 오류:',error);}return null;};// SQL 포맷팅\nconst formatSQL=sql=>{if(!sql)return'';// 기본적인 SQL 포맷팅\nreturn sql.replace(/\\b(SELECT|FROM|WHERE|AND|OR|ORDER BY|GROUP BY|HAVING|LIMIT|JOIN|LEFT|RIGHT|INNER|OUTER)\\b/gi,'\\n$1').replace(/\\b(INSERT|UPDATE|DELETE|CREATE|ALTER|DROP|INDEX|TABLE|DATABASE)\\b/gi,'\\n$1').trim();};// 시간 포맷팅\nconst formatDuration=seconds=>{if(seconds<1){return\"\".concat((seconds*1000).toFixed(2),\"ms\");}else if(seconds<60){return\"\".concat(seconds.toFixed(2),\"s\");}else{const minutes=Math.floor(seconds/60);const remainingSeconds=seconds%60;return\"\".concat(minutes,\"m \").concat(remainingSeconds.toFixed(2),\"s\");}};// 데이터 포맷팅\nconst formatNumber=num=>{if(num>=1000000){return\"\".concat((num/1000000).toFixed(1),\"M\");}else if(num>=1000){return\"\".concat((num/1000).toFixed(1),\"K\");}return num.toLocaleString();};// 필터 적용 시 데이터 다시 가져오기\nuseEffect(()=>{fetchSlowQueries();},[selectedDb,filters]);// 쿼리 분석 및 최적화 제안\nconst analyzeQuery=query=>{var _query$sql,_query$sql2;const suggestions=[];// 기본적인 분석\nif(query.rows_examined>query.rows_sent*10){suggestions.push('인덱스 추가를 고려해보세요. 검사된 행 수가 반환된 행 수보다 훨씬 많습니다.');}if((_query$sql=query.sql)!==null&&_query$sql!==void 0&&_query$sql.toLowerCase().includes('select *')){suggestions.push('SELECT * 대신 필요한 컬럼만 선택하는 것을 고려해보세요.');}if((_query$sql2=query.sql)!==null&&_query$sql2!==void 0&&_query$sql2.toLowerCase().includes('like %')){suggestions.push('LIKE 패턴이 %로 시작하면 인덱스를 사용할 수 없습니다. 다른 검색 방법을 고려해보세요.');}if(query.count>100){suggestions.push('이 쿼리가 매우 자주 실행되고 있습니다. 캐싱이나 쿼리 최적화를 고려해보세요.');}return suggestions;};return/*#__PURE__*/_jsxs(\"div\",{className:\"slow-query-component\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"component-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-left\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uC2AC\\uB85C\\uC6B0 \\uCFFC\\uB9AC \\uBD84\\uC11D\"}),selectedDb&&/*#__PURE__*/_jsxs(\"span\",{className:\"selected-db\",children:[\"\\uC120\\uD0DD\\uB41C DB: \",selectedDb]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-controls\",children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedDb||'',onChange:e=>onDbChange(e.target.value),className:\"db-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"DB \\uC120\\uD0DD\"}),databases===null||databases===void 0?void 0:databases.map(db=>/*#__PURE__*/_jsx(\"option\",{value:db.name,children:db.name},db.name))]}),/*#__PURE__*/_jsx(\"select\",{value:filters.timeRange,onChange:e=>handleFilterChange('timeRange',e.target.value),className:\"time-range-select\",children:timeRanges.map(range=>/*#__PURE__*/_jsx(\"option\",{value:range.value,children:range.label},range.value))}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:filters.minDuration,onChange:e=>handleFilterChange('minDuration',Number(e.target.value)),placeholder:\"\\uCD5C\\uC18C \\uC2DC\\uAC04(\\uCD08)\",className:\"min-duration-input\",min:\"0\",step:\"0.1\"}),/*#__PURE__*/_jsx(\"select\",{value:filters.sortBy,onChange:e=>handleFilterChange('sortBy',e.target.value),className:\"sort-select\",children:sortOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFilterChange('sortOrder',filters.sortOrder==='desc'?'asc':'desc'),className:\"sort-order-btn\",children:filters.sortOrder==='desc'?'↓':'↑'}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchSlowQueries,disabled:loading||!selectedDb,className:\"btn btn-outline\",children:loading?'로딩 중...':'🔄 새로고침'})]})]}),!selectedDb?/*#__PURE__*/_jsx(\"div\",{className:\"no-db-selected\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uBD84\\uC11D\\uD560 \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694.\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"slow-query-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"query-list\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uC2AC\\uB85C\\uC6B0 \\uCFFC\\uB9AC \\uBAA9\\uB85D (\",slowQueries.length,\"\\uAC1C)\"]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\uC2AC\\uB85C\\uC6B0 \\uCFFC\\uB9AC \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC838\\uC624\\uB294 \\uC911...\"}):slowQueries.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"query-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"query-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC2E4\\uD589 \\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC2E4\\uD589 \\uD69F\\uC218\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uD3C9\\uADE0 \\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uAC80\\uC0AC\\uB41C \\uD589\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uBC18\\uD658\\uB41C \\uD589\"}),/*#__PURE__*/_jsx(\"th\",{children:\"SQL \\uBBF8\\uB9AC\\uBCF4\\uAE30\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC5C5\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:slowQueries.map((query,index)=>{var _query$sql3;return/*#__PURE__*/_jsxs(\"tr\",{className:(selectedQuery===null||selectedQuery===void 0?void 0:selectedQuery.id)===query.id?'selected':'',onClick:()=>handleQuerySelect(query),children:[/*#__PURE__*/_jsxs(\"td\",{className:\"duration-cell\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"duration-value\",children:formatDuration(query.duration)}),query.duration>10&&/*#__PURE__*/_jsx(\"span\",{className:\"warning-badge\",children:\"\\u26A0\\uFE0F\"})]}),/*#__PURE__*/_jsx(\"td\",{children:formatNumber(query.count)}),/*#__PURE__*/_jsx(\"td\",{children:formatDuration(query.avg_duration)}),/*#__PURE__*/_jsx(\"td\",{children:formatNumber(query.rows_examined)}),/*#__PURE__*/_jsx(\"td\",{children:formatNumber(query.rows_sent)}),/*#__PURE__*/_jsx(\"td\",{className:\"sql-preview\",children:/*#__PURE__*/_jsxs(\"code\",{children:[(_query$sql3=query.sql)===null||_query$sql3===void 0?void 0:_query$sql3.substring(0,100),\"...\"]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleQuerySelect(query);},className:\"btn btn-sm btn-outline\",children:\"\\uC0C1\\uC138\\uBCF4\\uAE30\"})})]},index);})})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"no-queries\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uC870\\uAC74\\uC5D0 \\uB9DE\\uB294 \\uC2AC\\uB85C\\uC6B0 \\uCFFC\\uB9AC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD544\\uD130 \\uC870\\uAC74\\uC744 \\uC870\\uC815\\uD574\\uBCF4\\uC138\\uC694.\"})]})]}),showDetails&&selectedQuery&&/*#__PURE__*/_jsxs(\"div\",{className:\"query-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"details-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uCFFC\\uB9AC \\uC0C1\\uC138 \\uC815\\uBCF4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDetails(false),className:\"close-btn\",children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uAE30\\uBCF8 \\uC815\\uBCF4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uCD5C\\uB300 \\uC2E4\\uD589 \\uC2DC\\uAC04:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDuration(selectedQuery.duration)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uD3C9\\uADE0 \\uC2E4\\uD589 \\uC2DC\\uAC04:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDuration(selectedQuery.avg_duration)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uC2E4\\uD589 \\uD69F\\uC218:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatNumber(selectedQuery.count)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uAC80\\uC0AC\\uB41C \\uD589 \\uC218:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatNumber(selectedQuery.rows_examined)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uBC18\\uD658\\uB41C \\uD589 \\uC218:\"}),/*#__PURE__*/_jsx(\"span\",{children:formatNumber(selectedQuery.rows_sent)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uD6A8\\uC728\\uC131:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"efficiency \".concat(selectedQuery.rows_examined>selectedQuery.rows_sent*10?'poor':'good'),children:[(selectedQuery.rows_sent/selectedQuery.rows_examined*100).toFixed(1),\"%\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"SQL \\uCFFC\\uB9AC\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sql-container\",children:[/*#__PURE__*/_jsx(\"pre\",{children:/*#__PURE__*/_jsx(\"code\",{children:formatSQL(selectedQuery.sql)})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigator.clipboard.writeText(selectedQuery.sql),className:\"copy-btn\",children:\"\\uBCF5\\uC0AC\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uCD5C\\uC801\\uD654 \\uC81C\\uC548\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"suggestions\",children:[analyzeQuery(selectedQuery).map((suggestion,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"suggestion-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"suggestion-icon\",children:\"\\uD83D\\uDCA1\"}),/*#__PURE__*/_jsx(\"span\",{children:suggestion})]},index)),analyzeQuery(selectedQuery).length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"no-suggestions\",children:\"\\uD604\\uC7AC \\uCFFC\\uB9AC\\uC5D0 \\uB300\\uD55C \\uD2B9\\uBCC4\\uD55C \\uCD5C\\uC801\\uD654 \\uC81C\\uC548\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]})]}),(queryDetails===null||queryDetails===void 0?void 0:queryDetails.execution_plan)&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uC2E4\\uD589 \\uACC4\\uD68D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"execution-plan\",children:/*#__PURE__*/_jsx(\"pre\",{children:/*#__PURE__*/_jsx(\"code\",{children:JSON.stringify(queryDetails.execution_plan,null,2)})})})]}),(queryDetails===null||queryDetails===void 0?void 0:queryDetails.time_stats)&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uC2DC\\uAC04\\uBCC4 \\uC2E4\\uD589 \\uD1B5\\uACC4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"time-stats\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"stats-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC2DC\\uAC04\\uB300\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC2E4\\uD589 \\uD69F\\uC218\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uD3C9\\uADE0 \\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uCD5C\\uB300 \\uC2DC\\uAC04\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:queryDetails.time_stats.map((stat,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[stat.hour,\":00\"]}),/*#__PURE__*/_jsx(\"td\",{children:stat.count}),/*#__PURE__*/_jsx(\"td\",{children:formatDuration(stat.avg_duration)}),/*#__PURE__*/_jsx(\"td\",{children:formatDuration(stat.max_duration)})]},index))})]})})]})]})]})]})]});}export default SlowQueryComponent;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","SlowQueryComponent","_ref","selectedDb","databases","onDbChange","slowQueries","setSlowQueries","loading","setLoading","filters","setFilters","timeRange","minDuration","limit","sortBy","sortOrder","selectedQuery","setSelectedQuery","queryDetails","setQueryDetails","showDetails","setShowDetails","timeRanges","value","label","sortOptions","fetchSlowQueries","params","URLSearchParams","_objectSpread","db_name","response","fetch","concat","ok","data","json","queries","console","error","fetchQueryDetails","queryId","handleFilterChange","key","prev","handleQuerySelect","query","id","getExecutionPlan","sql","method","headers","body","JSON","stringify","plan","formatSQL","replace","trim","formatDuration","seconds","toFixed","minutes","Math","floor","remainingSeconds","formatNumber","num","toLocaleString","analyzeQuery","_query$sql","_query$sql2","suggestions","rows_examined","rows_sent","push","toLowerCase","includes","count","className","children","onChange","e","target","map","db","name","range","type","Number","placeholder","min","step","option","onClick","disabled","length","index","_query$sql3","duration","avg_duration","substring","stopPropagation","navigator","clipboard","writeText","suggestion","execution_plan","time_stats","stat","hour","max_duration"],"sources":["/Users/bskong/Repository/test/db-agent/frontend/src/components/SlowQueryComponent.js"],"sourcesContent":["// SlowQueryComponent.js\n// CloudWatch/RDS 슬로우 쿼리 분석, 시각화\nimport React, { useState, useEffect } from 'react';\n\nfunction SlowQueryComponent({ selectedDb, databases, onDbChange }) {\n  const [slowQueries, setSlowQueries] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [filters, setFilters] = useState({\n    timeRange: '24h',\n    minDuration: 1, // 초 단위\n    limit: 50,\n    sortBy: 'duration', // duration, count, avg_duration\n    sortOrder: 'desc'\n  });\n  const [selectedQuery, setSelectedQuery] = useState(null);\n  const [queryDetails, setQueryDetails] = useState(null);\n  const [showDetails, setShowDetails] = useState(false);\n\n  const timeRanges = [\n    { value: '1h', label: '1시간' },\n    { value: '6h', label: '6시간' },\n    { value: '24h', label: '24시간' },\n    { value: '7d', label: '7일' },\n    { value: '30d', label: '30일' }\n  ];\n\n  const sortOptions = [\n    { value: 'duration', label: '실행 시간' },\n    { value: 'count', label: '실행 횟수' },\n    { value: 'avg_duration', label: '평균 실행 시간' },\n    { value: 'rows_examined', label: '검사된 행 수' },\n    { value: 'rows_sent', label: '반환된 행 수' }\n  ];\n\n  // 슬로우 쿼리 데이터 가져오기\n  const fetchSlowQueries = async () => {\n    if (!selectedDb) return;\n\n    setLoading(true);\n    try {\n      const params = new URLSearchParams({\n        db_name: selectedDb,\n        ...filters\n      });\n\n      const response = await fetch(`/slowquery/list?${params}`);\n      if (response.ok) {\n        const data = await response.json();\n        setSlowQueries(data.queries || []);\n      } else {\n        console.error('슬로우 쿼리 데이터 가져오기 실패');\n      }\n    } catch (error) {\n      console.error('슬로우 쿼리 요청 오류:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 쿼리 상세 정보 가져오기\n  const fetchQueryDetails = async (queryId) => {\n    try {\n      const response = await fetch(`/slowquery/details?db_name=${selectedDb}&query_id=${queryId}`);\n      if (response.ok) {\n        const data = await response.json();\n        setQueryDetails(data);\n        setShowDetails(true);\n      }\n    } catch (error) {\n      console.error('쿼리 상세 정보 요청 오류:', error);\n    }\n  };\n\n  // 필터 변경 처리\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n\n  // 쿼리 선택 처리\n  const handleQuerySelect = (query) => {\n    setSelectedQuery(query);\n    fetchQueryDetails(query.id);\n  };\n\n  // 쿼리 실행 계획 가져오기\n  const getExecutionPlan = async (sql) => {\n    try {\n      const response = await fetch('/slowquery/explain', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          db_name: selectedDb,\n          sql: sql\n        })\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        return data.plan;\n      }\n    } catch (error) {\n      console.error('실행 계획 요청 오류:', error);\n    }\n    return null;\n  };\n\n  // SQL 포맷팅\n  const formatSQL = (sql) => {\n    if (!sql) return '';\n    \n    // 기본적인 SQL 포맷팅\n    return sql\n      .replace(/\\b(SELECT|FROM|WHERE|AND|OR|ORDER BY|GROUP BY|HAVING|LIMIT|JOIN|LEFT|RIGHT|INNER|OUTER)\\b/gi, '\\n$1')\n      .replace(/\\b(INSERT|UPDATE|DELETE|CREATE|ALTER|DROP|INDEX|TABLE|DATABASE)\\b/gi, '\\n$1')\n      .trim();\n  };\n\n  // 시간 포맷팅\n  const formatDuration = (seconds) => {\n    if (seconds < 1) {\n      return `${(seconds * 1000).toFixed(2)}ms`;\n    } else if (seconds < 60) {\n      return `${seconds.toFixed(2)}s`;\n    } else {\n      const minutes = Math.floor(seconds / 60);\n      const remainingSeconds = seconds % 60;\n      return `${minutes}m ${remainingSeconds.toFixed(2)}s`;\n    }\n  };\n\n  // 데이터 포맷팅\n  const formatNumber = (num) => {\n    if (num >= 1000000) {\n      return `${(num / 1000000).toFixed(1)}M`;\n    } else if (num >= 1000) {\n      return `${(num / 1000).toFixed(1)}K`;\n    }\n    return num.toLocaleString();\n  };\n\n  // 필터 적용 시 데이터 다시 가져오기\n  useEffect(() => {\n    fetchSlowQueries();\n  }, [selectedDb, filters]);\n\n  // 쿼리 분석 및 최적화 제안\n  const analyzeQuery = (query) => {\n    const suggestions = [];\n    \n    // 기본적인 분석\n    if (query.rows_examined > query.rows_sent * 10) {\n      suggestions.push('인덱스 추가를 고려해보세요. 검사된 행 수가 반환된 행 수보다 훨씬 많습니다.');\n    }\n    \n    if (query.sql?.toLowerCase().includes('select *')) {\n      suggestions.push('SELECT * 대신 필요한 컬럼만 선택하는 것을 고려해보세요.');\n    }\n    \n    if (query.sql?.toLowerCase().includes('like %')) {\n      suggestions.push('LIKE 패턴이 %로 시작하면 인덱스를 사용할 수 없습니다. 다른 검색 방법을 고려해보세요.');\n    }\n    \n    if (query.count > 100) {\n      suggestions.push('이 쿼리가 매우 자주 실행되고 있습니다. 캐싱이나 쿼리 최적화를 고려해보세요.');\n    }\n    \n    return suggestions;\n  };\n\n  return (\n    <div className=\"slow-query-component\">\n      {/* 헤더 */}\n      <div className=\"component-header\">\n        <div className=\"header-left\">\n          <h2>슬로우 쿼리 분석</h2>\n          {selectedDb && (\n            <span className=\"selected-db\">선택된 DB: {selectedDb}</span>\n          )}\n        </div>\n        \n        <div className=\"header-controls\">\n          {/* DB 선택 */}\n          <select \n            value={selectedDb || ''} \n            onChange={(e) => onDbChange(e.target.value)}\n            className=\"db-select\"\n          >\n            <option value=\"\">DB 선택</option>\n            {databases?.map(db => (\n              <option key={db.name} value={db.name}>\n                {db.name}\n              </option>\n            ))}\n          </select>\n\n          {/* 시간 범위 */}\n          <select \n            value={filters.timeRange} \n            onChange={(e) => handleFilterChange('timeRange', e.target.value)}\n            className=\"time-range-select\"\n          >\n            {timeRanges.map(range => (\n              <option key={range.value} value={range.value}>\n                {range.label}\n              </option>\n            ))}\n          </select>\n\n          {/* 최소 실행 시간 */}\n          <input\n            type=\"number\"\n            value={filters.minDuration}\n            onChange={(e) => handleFilterChange('minDuration', Number(e.target.value))}\n            placeholder=\"최소 시간(초)\"\n            className=\"min-duration-input\"\n            min=\"0\"\n            step=\"0.1\"\n          />\n\n          {/* 정렬 기준 */}\n          <select \n            value={filters.sortBy} \n            onChange={(e) => handleFilterChange('sortBy', e.target.value)}\n            className=\"sort-select\"\n          >\n            {sortOptions.map(option => (\n              <option key={option.value} value={option.value}>\n                {option.label}\n              </option>\n            ))}\n          </select>\n\n          {/* 정렬 순서 */}\n          <button \n            onClick={() => handleFilterChange('sortOrder', filters.sortOrder === 'desc' ? 'asc' : 'desc')}\n            className=\"sort-order-btn\"\n          >\n            {filters.sortOrder === 'desc' ? '↓' : '↑'}\n          </button>\n\n          {/* 새로고침 */}\n          <button \n            onClick={fetchSlowQueries}\n            disabled={loading || !selectedDb}\n            className=\"btn btn-outline\"\n          >\n            {loading ? '로딩 중...' : '🔄 새로고침'}\n          </button>\n        </div>\n      </div>\n\n      {!selectedDb ? (\n        <div className=\"no-db-selected\">\n          <p>분석할 데이터베이스를 선택해주세요.</p>\n        </div>\n      ) : (\n        <div className=\"slow-query-content\">\n          {/* 슬로우 쿼리 목록 */}\n          <div className=\"query-list\">\n            <h3>슬로우 쿼리 목록 ({slowQueries.length}개)</h3>\n            \n            {loading ? (\n              <div className=\"loading\">슬로우 쿼리 데이터를 가져오는 중...</div>\n            ) : slowQueries.length > 0 ? (\n              <div className=\"query-table-container\">\n                <table className=\"query-table\">\n                  <thead>\n                    <tr>\n                      <th>실행 시간</th>\n                      <th>실행 횟수</th>\n                      <th>평균 시간</th>\n                      <th>검사된 행</th>\n                      <th>반환된 행</th>\n                      <th>SQL 미리보기</th>\n                      <th>작업</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {slowQueries.map((query, index) => (\n                      <tr \n                        key={index} \n                        className={selectedQuery?.id === query.id ? 'selected' : ''}\n                        onClick={() => handleQuerySelect(query)}\n                      >\n                        <td className=\"duration-cell\">\n                          <span className=\"duration-value\">{formatDuration(query.duration)}</span>\n                          {query.duration > 10 && <span className=\"warning-badge\">⚠️</span>}\n                        </td>\n                        <td>{formatNumber(query.count)}</td>\n                        <td>{formatDuration(query.avg_duration)}</td>\n                        <td>{formatNumber(query.rows_examined)}</td>\n                        <td>{formatNumber(query.rows_sent)}</td>\n                        <td className=\"sql-preview\">\n                          <code>{query.sql?.substring(0, 100)}...</code>\n                        </td>\n                        <td>\n                          <button \n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleQuerySelect(query);\n                            }}\n                            className=\"btn btn-sm btn-outline\"\n                          >\n                            상세보기\n                          </button>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            ) : (\n              <div className=\"no-queries\">\n                <p>조건에 맞는 슬로우 쿼리가 없습니다.</p>\n                <p>필터 조건을 조정해보세요.</p>\n              </div>\n            )}\n          </div>\n\n          {/* 쿼리 상세 정보 */}\n          {showDetails && selectedQuery && (\n            <div className=\"query-details\">\n              <div className=\"details-header\">\n                <h3>쿼리 상세 정보</h3>\n                <button \n                  onClick={() => setShowDetails(false)}\n                  className=\"close-btn\"\n                >\n                  ✕\n                </button>\n              </div>\n\n              <div className=\"details-content\">\n                {/* 기본 정보 */}\n                <div className=\"detail-section\">\n                  <h4>기본 정보</h4>\n                  <div className=\"info-grid\">\n                    <div className=\"info-item\">\n                      <label>최대 실행 시간:</label>\n                      <span>{formatDuration(selectedQuery.duration)}</span>\n                    </div>\n                    <div className=\"info-item\">\n                      <label>평균 실행 시간:</label>\n                      <span>{formatDuration(selectedQuery.avg_duration)}</span>\n                    </div>\n                    <div className=\"info-item\">\n                      <label>실행 횟수:</label>\n                      <span>{formatNumber(selectedQuery.count)}</span>\n                    </div>\n                    <div className=\"info-item\">\n                      <label>검사된 행 수:</label>\n                      <span>{formatNumber(selectedQuery.rows_examined)}</span>\n                    </div>\n                    <div className=\"info-item\">\n                      <label>반환된 행 수:</label>\n                      <span>{formatNumber(selectedQuery.rows_sent)}</span>\n                    </div>\n                    <div className=\"info-item\">\n                      <label>효율성:</label>\n                      <span className={`efficiency ${selectedQuery.rows_examined > selectedQuery.rows_sent * 10 ? 'poor' : 'good'}`}>\n                        {((selectedQuery.rows_sent / selectedQuery.rows_examined) * 100).toFixed(1)}%\n                      </span>\n                    </div>\n                  </div>\n                </div>\n\n                {/* SQL 쿼리 */}\n                <div className=\"detail-section\">\n                  <h4>SQL 쿼리</h4>\n                  <div className=\"sql-container\">\n                    <pre><code>{formatSQL(selectedQuery.sql)}</code></pre>\n                    <button \n                      onClick={() => navigator.clipboard.writeText(selectedQuery.sql)}\n                      className=\"copy-btn\"\n                    >\n                      복사\n                    </button>\n                  </div>\n                </div>\n\n                {/* 최적화 제안 */}\n                <div className=\"detail-section\">\n                  <h4>최적화 제안</h4>\n                  <div className=\"suggestions\">\n                    {analyzeQuery(selectedQuery).map((suggestion, index) => (\n                      <div key={index} className=\"suggestion-item\">\n                        <span className=\"suggestion-icon\">💡</span>\n                        <span>{suggestion}</span>\n                      </div>\n                    ))}\n                    {analyzeQuery(selectedQuery).length === 0 && (\n                      <p className=\"no-suggestions\">현재 쿼리에 대한 특별한 최적화 제안이 없습니다.</p>\n                    )}\n                  </div>\n                </div>\n\n                {/* 실행 계획 (있는 경우) */}\n                {queryDetails?.execution_plan && (\n                  <div className=\"detail-section\">\n                    <h4>실행 계획</h4>\n                    <div className=\"execution-plan\">\n                      <pre><code>{JSON.stringify(queryDetails.execution_plan, null, 2)}</code></pre>\n                    </div>\n                  </div>\n                )}\n\n                {/* 시간별 실행 통계 */}\n                {queryDetails?.time_stats && (\n                  <div className=\"detail-section\">\n                    <h4>시간별 실행 통계</h4>\n                    <div className=\"time-stats\">\n                      <table className=\"stats-table\">\n                        <thead>\n                          <tr>\n                            <th>시간대</th>\n                            <th>실행 횟수</th>\n                            <th>평균 시간</th>\n                            <th>최대 시간</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {queryDetails.time_stats.map((stat, index) => (\n                            <tr key={index}>\n                              <td>{stat.hour}:00</td>\n                              <td>{stat.count}</td>\n                              <td>{formatDuration(stat.avg_duration)}</td>\n                              <td>{formatDuration(stat.max_duration)}</td>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default SlowQueryComponent; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}