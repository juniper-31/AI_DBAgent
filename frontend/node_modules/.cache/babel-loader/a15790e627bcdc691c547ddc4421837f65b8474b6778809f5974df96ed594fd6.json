{"ast":null,"code":"var _jsxFileName = \"/Users/bskong/Repository/test/AI_DBAgent/frontend/src/components/MonitoringComponent.js\",\n  _s = $RefreshSig$();\n// MonitoringComponent.js\n// DB별 실시간 모니터링, 차트, 상세 페이지\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CLOUDWATCH_METRICS = [{\n  key: 'connections',\n  name: 'DatabaseConnections',\n  label: '연결 수',\n  unit: '개',\n  color: '#007bff'\n}, {\n  key: 'cpu',\n  name: 'CPUUtilization',\n  label: 'CPU 사용률',\n  unit: '%',\n  color: '#28a745'\n}, {\n  key: 'memory',\n  name: 'FreeableMemory',\n  label: '남은 메모리',\n  unit: 'GB',\n  color: '#ffc107'\n},\n// 수정: 카드 제목/단위\n{\n  key: 'storage',\n  name: 'FreeStorageSpace',\n  label: '사용 가능 스토리지',\n  unit: 'GB',\n  color: '#6f42c1'\n}, {\n  key: 'read_iops',\n  name: 'ReadIOPS',\n  label: '읽기 IOPS',\n  unit: '',\n  color: '#17a2b8'\n}, {\n  key: 'write_iops',\n  name: 'WriteIOPS',\n  label: '쓰기 IOPS',\n  unit: '',\n  color: '#fd7e14'\n}];\nfunction MonitoringComponent({\n  selectedDb,\n  databases,\n  onDbChange\n}) {\n  _s();\n  const [metrics, setMetrics] = useState({});\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [timeRange, setTimeRange] = useState('1h');\n  const [refreshInterval, setRefreshInterval] = useState(30);\n  const [isAutoRefresh, setIsAutoRefresh] = useState(true);\n  const intervalRef = useRef(null);\n  const timeRanges = [{\n    value: '1h',\n    label: '1시간'\n  }, {\n    value: '6h',\n    label: '6시간'\n  }, {\n    value: '24h',\n    label: '24시간'\n  }, {\n    value: '7d',\n    label: '7일'\n  }];\n  const refreshIntervals = [{\n    value: 10,\n    label: '10초'\n  }, {\n    value: 30,\n    label: '30초'\n  }, {\n    value: 60,\n    label: '1분'\n  }, {\n    value: 300,\n    label: '5분'\n  }];\n\n  // 시간 범위 → hours 변환\n  const getHours = range => {\n    switch (range) {\n      case '1h':\n        return 1;\n      case '6h':\n        return 6;\n      case '24h':\n        return 24;\n      case '7d':\n        return 24 * 7;\n      default:\n        return 1;\n    }\n  };\n\n  // CloudWatch 메트릭 데이터 가져오기\n  const fetchCloudwatchMetrics = useCallback(async () => {\n    if (!selectedDb) return;\n    setLoading(true);\n    try {\n      const dbIdentifier = selectedDb;\n      const hours = getHours(timeRange);\n      const results = await Promise.all(CLOUDWATCH_METRICS.map(async metric => {\n        const url = `/api/monitoring/cloudwatch/metrics/${dbIdentifier}?metric_name=${metric.name}&hours=${hours}`;\n        let errorMsg = null;\n        let json = {\n          data: []\n        };\n        let status = 200;\n        try {\n          const res = await fetch(url);\n          status = res.status;\n          try {\n            json = await res.json();\n          } catch (e) {}\n          if (!res.ok) {\n            errorMsg = json && json.detail ? json.detail : `API 오류 (status ${status})`;\n          }\n        } catch (e) {\n          errorMsg = e.message || 'API 요청 실패';\n        }\n        // 콘솔에 응답(raw) 출력\n        console.log(`[CloudWatch][${metric.name}]`, json, errorMsg);\n        return {\n          key: metric.key,\n          data: json.data || [],\n          error: errorMsg\n        };\n      }));\n      const newMetrics = {};\n      const newErrors = {};\n      results.forEach(({\n        key,\n        data,\n        error\n      }) => {\n        newMetrics[key] = data;\n        if (error) newErrors[key] = error;\n      });\n      setMetrics(newMetrics);\n      setErrors(newErrors);\n    } catch (error) {\n      console.error('CloudWatch 메트릭 요청 오류:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedDb, timeRange]);\n\n  // 자동 새로고침\n  useEffect(() => {\n    if (isAutoRefresh && selectedDb) {\n      fetchCloudwatchMetrics();\n      intervalRef.current = setInterval(() => {\n        fetchCloudwatchMetrics();\n      }, refreshInterval * 1000);\n      return () => {\n        if (intervalRef.current) clearInterval(intervalRef.current);\n      };\n    } else {\n      if (intervalRef.current) clearInterval(intervalRef.current);\n    }\n  }, [selectedDb, timeRange, refreshInterval, isAutoRefresh, fetchCloudwatchMetrics]);\n\n  // 수동 새로고침\n  const handleManualRefresh = () => {\n    fetchCloudwatchMetrics();\n  };\n\n  // 차트 데이터 포맷팅\n  const formatChartData = (data, metricKey) => {\n    if (!data || !Array.isArray(data)) return [];\n    // 메모리/스토리지는 단위 변환\n    if (metricKey === 'memory') {\n      return data.map(point => ({\n        x: new Date(point.timestamp),\n        y: Math.round(point.value / 1024 / 1024)\n      })); // MB\n    }\n    if (metricKey === 'storage') {\n      return data.map(point => ({\n        x: new Date(point.timestamp),\n        y: Math.round(point.value / 1024 / 1024 / 1024)\n      })); // GB\n    }\n    return data.map(point => ({\n      x: new Date(point.timestamp),\n      y: point.value\n    }));\n  };\n\n  // 카드/차트 UI 개선 (에러 메시지 표시)\n  const renderMetricCard = (title, value, unit = '', color = '#007bff', error = null) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"metric-card improved\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metric-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          color\n        },\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metric-value\",\n      children: [value === null || value === undefined || isNaN(value) ? /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"no-data\",\n        children: \"\\uB370\\uC774\\uD130 \\uC5C6\\uC74C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"value\",\n        style: {\n          color\n        },\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this), unit && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"unit\",\n        children: unit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"metric-error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n  const renderChart = (title, data, color = '#007bff', unit = '', error = null) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-card improved\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      style: {\n        color\n      },\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-container\",\n      children: [error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-data metric-error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }, this) : !data || data.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-data\",\n        children: \"\\uB370\\uC774\\uD130 \\uC5C6\\uC74C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"100%\",\n        height: \"200\",\n        viewBox: \"0 0 400 200\",\n        children: [data.length > 1 && /*#__PURE__*/_jsxDEV(\"polyline\", {\n          fill: \"none\",\n          stroke: color,\n          strokeWidth: \"2\",\n          points: data.map((point, i) => `${i / (data.length - 1) * 400},${200 - point.y / Math.max(...(data.map(p => p.y) || [1])) * 180}`).join(' ')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }, this), data.map((point, i) => /*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: i / (data.length - 1) * 400,\n          cy: 200 - point.y / Math.max(...(data.map(p => p.y) || [1])) * 180,\n          r: \"3\",\n          fill: color\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this), unit && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-unit\",\n        children: [\"(\", unit, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n\n  // cloudwatch_id 표시용\n  const selectedDbObj = databases === null || databases === void 0 ? void 0 : databases.find(db => db.name === selectedDb);\n  const cloudwatchId = selectedDbObj === null || selectedDbObj === void 0 ? void 0 : selectedDbObj.cloudwatch_id;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"monitoring-component improved\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"monitoring-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4 \\uBAA8\\uB2C8\\uD130\\uB9C1 (CloudWatch)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), selectedDb && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"selected-db\",\n          children: [\"\\uC120\\uD0DD\\uB41C DB: \", selectedDb, cloudwatchId && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '13px',\n              color: '#888',\n              marginLeft: 12\n            },\n            children: [\"(CloudWatch ID: \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: cloudwatchId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 35\n            }, this), \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedDb || '',\n          onChange: e => onDbChange(e.target.value),\n          className: \"db-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"DB \\uC120\\uD0DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), databases === null || databases === void 0 ? void 0 : databases.map(db => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: db.name,\n            children: db.name\n          }, db.name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: timeRange,\n          onChange: e => setTimeRange(e.target.value),\n          className: \"time-range-select\",\n          children: timeRanges.map(range => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: range.value,\n            children: range.label\n          }, range.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: refreshInterval,\n          onChange: e => setRefreshInterval(Number(e.target.value)),\n          className: \"refresh-interval-select\",\n          children: refreshIntervals.map(interval => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: interval.value,\n            children: interval.label\n          }, interval.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"auto-refresh-toggle\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: isAutoRefresh,\n            onChange: e => setIsAutoRefresh(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), \"\\uC790\\uB3D9 \\uC0C8\\uB85C\\uACE0\\uCE68\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleManualRefresh,\n          disabled: loading || !selectedDb,\n          className: \"btn btn-outline\",\n          children: loading ? '새로고침 중...' : '🔄 새로고침'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), !selectedDb ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-db-selected\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\uBAA8\\uB2C8\\uD130\\uB9C1\\uD560 \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"monitoring-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"metrics-grid improved\",\n        children: CLOUDWATCH_METRICS.map(metric => {\n          const data = metrics[metric.key] || [];\n          const latest = data.length > 0 ? data[data.length - 1].value : null;\n          let displayValue = latest;\n          // 메모리(FreeableMemory)는 GB 단위로 변환, 소수점 1자리\n          if (metric.key === 'memory' && latest !== null) displayValue = (latest / 1024 / 1024 / 1024).toFixed(1); // GB\n          if (metric.key === 'storage' && latest !== null) displayValue = Math.round(latest); // GB\n          const chartData = metric.key === 'memory' ? (data || []).map(point => ({\n            x: new Date(point.timestamp),\n            y: +(point.value / 1024 / 1024 / 1024).toFixed(1)\n          })) // GB\n          : formatChartData(data, metric.key);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '8px'\n            },\n            children: [renderMetricCard(metric.label, displayValue, metric.unit, metric.color, errors[metric.key]), renderChart('', chartData, metric.color, metric.unit, errors[metric.key])]\n          }, metric.key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n}\n_s(MonitoringComponent, \"mD1Sd3ZORCK+m63SAad11WK5ilU=\");\n_c = MonitoringComponent;\nexport default MonitoringComponent;\nvar _c;\n$RefreshReg$(_c, \"MonitoringComponent\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","jsxDEV","_jsxDEV","CLOUDWATCH_METRICS","key","name","label","unit","color","MonitoringComponent","selectedDb","databases","onDbChange","_s","metrics","setMetrics","errors","setErrors","loading","setLoading","timeRange","setTimeRange","refreshInterval","setRefreshInterval","isAutoRefresh","setIsAutoRefresh","intervalRef","timeRanges","value","refreshIntervals","getHours","range","fetchCloudwatchMetrics","dbIdentifier","hours","results","Promise","all","map","metric","url","errorMsg","json","data","status","res","fetch","e","ok","detail","message","console","log","error","newMetrics","newErrors","forEach","current","setInterval","clearInterval","handleManualRefresh","formatChartData","metricKey","Array","isArray","point","x","Date","timestamp","y","Math","round","renderMetricCard","title","className","children","style","fileName","_jsxFileName","lineNumber","columnNumber","undefined","isNaN","renderChart","length","width","height","viewBox","fill","stroke","strokeWidth","points","i","max","p","join","cx","cy","r","selectedDbObj","find","db","cloudwatchId","cloudwatch_id","fontSize","marginLeft","onChange","target","Number","interval","type","checked","onClick","disabled","latest","displayValue","toFixed","chartData","display","flexDirection","gap","_c","$RefreshReg$"],"sources":["/Users/bskong/Repository/test/AI_DBAgent/frontend/src/components/MonitoringComponent.js"],"sourcesContent":["// MonitoringComponent.js\n// DB별 실시간 모니터링, 차트, 상세 페이지\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\n\nconst CLOUDWATCH_METRICS = [\n  { key: 'connections', name: 'DatabaseConnections', label: '연결 수', unit: '개', color: '#007bff' },\n  { key: 'cpu', name: 'CPUUtilization', label: 'CPU 사용률', unit: '%', color: '#28a745' },\n  { key: 'memory', name: 'FreeableMemory', label: '남은 메모리', unit: 'GB', color: '#ffc107' }, // 수정: 카드 제목/단위\n  { key: 'storage', name: 'FreeStorageSpace', label: '사용 가능 스토리지', unit: 'GB', color: '#6f42c1' },\n  { key: 'read_iops', name: 'ReadIOPS', label: '읽기 IOPS', unit: '', color: '#17a2b8' },\n  { key: 'write_iops', name: 'WriteIOPS', label: '쓰기 IOPS', unit: '', color: '#fd7e14' }\n];\n\nfunction MonitoringComponent({ selectedDb, databases, onDbChange }) {\n  const [metrics, setMetrics] = useState({});\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [timeRange, setTimeRange] = useState('1h');\n  const [refreshInterval, setRefreshInterval] = useState(30);\n  const [isAutoRefresh, setIsAutoRefresh] = useState(true);\n  const intervalRef = useRef(null);\n\n  const timeRanges = [\n    { value: '1h', label: '1시간' },\n    { value: '6h', label: '6시간' },\n    { value: '24h', label: '24시간' },\n    { value: '7d', label: '7일' }\n  ];\n\n  const refreshIntervals = [\n    { value: 10, label: '10초' },\n    { value: 30, label: '30초' },\n    { value: 60, label: '1분' },\n    { value: 300, label: '5분' }\n  ];\n\n  // 시간 범위 → hours 변환\n  const getHours = (range) => {\n    switch (range) {\n      case '1h': return 1;\n      case '6h': return 6;\n      case '24h': return 24;\n      case '7d': return 24 * 7;\n      default: return 1;\n    }\n  };\n\n  // CloudWatch 메트릭 데이터 가져오기\n  const fetchCloudwatchMetrics = useCallback(async () => {\n    if (!selectedDb) return;\n    setLoading(true);\n    try {\n      const dbIdentifier = selectedDb;\n      const hours = getHours(timeRange);\n      const results = await Promise.all(\n        CLOUDWATCH_METRICS.map(async (metric) => {\n          const url = `/api/monitoring/cloudwatch/metrics/${dbIdentifier}?metric_name=${metric.name}&hours=${hours}`;\n          let errorMsg = null;\n          let json = { data: [] };\n          let status = 200;\n          try {\n            const res = await fetch(url);\n            status = res.status;\n            try {\n              json = await res.json();\n            } catch (e) {}\n            if (!res.ok) {\n              errorMsg = (json && json.detail) ? json.detail : `API 오류 (status ${status})`;\n            }\n          } catch (e) {\n            errorMsg = e.message || 'API 요청 실패';\n          }\n          // 콘솔에 응답(raw) 출력\n          console.log(`[CloudWatch][${metric.name}]`, json, errorMsg);\n          return { key: metric.key, data: json.data || [], error: errorMsg };\n        })\n      );\n      const newMetrics = {};\n      const newErrors = {};\n      results.forEach(({ key, data, error }) => {\n        newMetrics[key] = data;\n        if (error) newErrors[key] = error;\n      });\n      setMetrics(newMetrics);\n      setErrors(newErrors);\n    } catch (error) {\n      console.error('CloudWatch 메트릭 요청 오류:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedDb, timeRange]);\n\n  // 자동 새로고침\n  useEffect(() => {\n    if (isAutoRefresh && selectedDb) {\n      fetchCloudwatchMetrics();\n      intervalRef.current = setInterval(() => {\n        fetchCloudwatchMetrics();\n      }, refreshInterval * 1000);\n      return () => {\n        if (intervalRef.current) clearInterval(intervalRef.current);\n      };\n    } else {\n      if (intervalRef.current) clearInterval(intervalRef.current);\n    }\n  }, [selectedDb, timeRange, refreshInterval, isAutoRefresh, fetchCloudwatchMetrics]);\n\n  // 수동 새로고침\n  const handleManualRefresh = () => {\n    fetchCloudwatchMetrics();\n  };\n\n  // 차트 데이터 포맷팅\n  const formatChartData = (data, metricKey) => {\n    if (!data || !Array.isArray(data)) return [];\n    // 메모리/스토리지는 단위 변환\n    if (metricKey === 'memory') {\n      return data.map(point => ({ x: new Date(point.timestamp), y: Math.round(point.value / 1024 / 1024) })); // MB\n    }\n    if (metricKey === 'storage') {\n      return data.map(point => ({ x: new Date(point.timestamp), y: Math.round(point.value / 1024 / 1024 / 1024) })); // GB\n    }\n    return data.map(point => ({ x: new Date(point.timestamp), y: point.value }));\n  };\n\n  // 카드/차트 UI 개선 (에러 메시지 표시)\n  const renderMetricCard = (title, value, unit = '', color = '#007bff', error = null) => (\n    <div className=\"metric-card improved\">\n      <div className=\"metric-header\">\n        <h4 style={{ color }}>{title}</h4>\n      </div>\n      <div className=\"metric-value\">\n        {value === null || value === undefined || isNaN(value) ? (\n          <span className=\"no-data\">데이터 없음</span>\n        ) : (\n          <span className=\"value\" style={{ color }}>{value}</span>\n        )}\n        {unit && <span className=\"unit\">{unit}</span>}\n      </div>\n      {error && <div className=\"metric-error\">{error}</div>}\n    </div>\n  );\n\n  const renderChart = (title, data, color = '#007bff', unit = '', error = null) => (\n    <div className=\"chart-card improved\">\n      <h4 style={{ color }}>{title}</h4>\n      <div className=\"chart-container\">\n        {error ? (\n          <div className=\"no-data metric-error\">{error}</div>\n        ) : (!data || data.length === 0) ? (\n          <div className=\"no-data\">데이터 없음</div>\n        ) : (\n          <svg width=\"100%\" height=\"200\" viewBox=\"0 0 400 200\">\n            {data.length > 1 && (\n              <polyline\n                fill=\"none\"\n                stroke={color}\n                strokeWidth=\"2\"\n                points={data.map((point, i) =>\n                  `${(i / (data.length - 1)) * 400},${200 - (point.y / Math.max(...data.map(p => p.y) || [1])) * 180}`\n                ).join(' ')}\n              />\n            )}\n            {data.map((point, i) => (\n              <circle\n                key={i}\n                cx={(i / (data.length - 1)) * 400}\n                cy={200 - (point.y / Math.max(...data.map(p => p.y) || [1])) * 180}\n                r=\"3\"\n                fill={color}\n              />\n            ))}\n          </svg>\n        )}\n        {unit && <div className=\"chart-unit\">({unit})</div>}\n      </div>\n    </div>\n  );\n\n  // cloudwatch_id 표시용\n  const selectedDbObj = databases?.find(db => db.name === selectedDb);\n  const cloudwatchId = selectedDbObj?.cloudwatch_id;\n\n  return (\n    <div className=\"monitoring-component improved\">\n      {/* 헤더 */}\n      <div className=\"monitoring-header\">\n        <div className=\"header-left\">\n          <h2>데이터베이스 모니터링 (CloudWatch)</h2>\n          {selectedDb && (\n            <span className=\"selected-db\">\n              선택된 DB: {selectedDb}\n              {cloudwatchId && (\n                <span style={{ fontSize: '13px', color: '#888', marginLeft: 12 }}>\n                  (CloudWatch ID: <b>{cloudwatchId}</b>)\n                </span>\n              )}\n            </span>\n          )}\n        </div>\n        <div className=\"header-controls\">\n          {/* DB 선택 */}\n          <select \n            value={selectedDb || ''} \n            onChange={(e) => onDbChange(e.target.value)}\n            className=\"db-select\"\n          >\n            <option value=\"\">DB 선택</option>\n            {databases?.map(db => (\n              <option key={db.name} value={db.name}>\n                {db.name}\n              </option>\n            ))}\n          </select>\n          {/* 시간 범위 */}\n          <select \n            value={timeRange} \n            onChange={(e) => setTimeRange(e.target.value)}\n            className=\"time-range-select\"\n          >\n            {timeRanges.map(range => (\n              <option key={range.value} value={range.value}>\n                {range.label}\n              </option>\n            ))}\n          </select>\n          {/* 새로고침 간격 */}\n          <select \n            value={refreshInterval} \n            onChange={(e) => setRefreshInterval(Number(e.target.value))}\n            className=\"refresh-interval-select\"\n          >\n            {refreshIntervals.map(interval => (\n              <option key={interval.value} value={interval.value}>\n                {interval.label}\n              </option>\n            ))}\n          </select>\n          {/* 자동 새로고침 토글 */}\n          <label className=\"auto-refresh-toggle\">\n            <input\n              type=\"checkbox\"\n              checked={isAutoRefresh}\n              onChange={(e) => setIsAutoRefresh(e.target.checked)}\n            />\n            자동 새로고침\n          </label>\n          {/* 수동 새로고침 */}\n          <button \n            onClick={handleManualRefresh}\n            disabled={loading || !selectedDb}\n            className=\"btn btn-outline\"\n          >\n            {loading ? '새로고침 중...' : '🔄 새로고침'}\n          </button>\n        </div>\n      </div>\n      {!selectedDb ? (\n        <div className=\"no-db-selected\">\n          <p>모니터링할 데이터베이스를 선택해주세요.</p>\n        </div>\n      ) : (\n        <div className=\"monitoring-content\">\n          {/* 4단 카드+그래프 일체형 그리드 */}\n          <div className=\"metrics-grid improved\">\n            {CLOUDWATCH_METRICS.map(metric => {\n              const data = metrics[metric.key] || [];\n              const latest = data.length > 0 ? data[data.length - 1].value : null;\n              let displayValue = latest;\n              // 메모리(FreeableMemory)는 GB 단위로 변환, 소수점 1자리\n              if (metric.key === 'memory' && latest !== null) displayValue = (latest / 1024 / 1024 / 1024).toFixed(1); // GB\n              if (metric.key === 'storage' && latest !== null) displayValue = Math.round(latest); // GB\n              const chartData = metric.key === 'memory'\n                ? (data || []).map(point => ({ x: new Date(point.timestamp), y: +(point.value / 1024 / 1024 / 1024).toFixed(1) })) // GB\n                : formatChartData(data, metric.key);\n              return (\n                <div key={metric.key} style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>\n                  {renderMetricCard(metric.label, displayValue, metric.unit, metric.color, errors[metric.key])}\n                  {renderChart('', chartData, metric.color, metric.unit, errors[metric.key])}\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default MonitoringComponent; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}